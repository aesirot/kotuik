-- MVStore
CREATE ALIAS IF NOT EXISTS READ_BLOB FOR "org.h2.tools.Recover.readBlob";
CREATE ALIAS IF NOT EXISTS READ_CLOB FOR "org.h2.tools.Recover.readClob";
CREATE ALIAS IF NOT EXISTS READ_BLOB_DB FOR "org.h2.tools.Recover.readBlobDb";
CREATE ALIAS IF NOT EXISTS READ_CLOB_DB FOR "org.h2.tools.Recover.readClobDb";
CREATE ALIAS IF NOT EXISTS READ_BLOB_MAP FOR "org.h2.tools.Recover.readBlobMap";
CREATE ALIAS IF NOT EXISTS READ_CLOB_MAP FOR "org.h2.tools.Recover.readClobMap";
-- LOB
CREATE TABLE IF NOT EXISTS INFORMATION_SCHEMA.LOB_BLOCKS(LOB_ID BIGINT, SEQ INT, DATA BINARY, PRIMARY KEY(LOB_ID, SEQ));
-- lobMap.size: 0
-- lobData.size: 0
-- Meta
-- chunk.37 = chunk:37,block:9,len:1,liveMax:600,livePages:1,map:13,max:c00,next:b,pages:2,root:dc000014816,time:1163e839,version:37
-- chunk.a = chunk:a,block:5,len:2,liveMax:d80,livePages:e,map:a,max:1240,pages:11,root:28000034a52,time:bb7d3a0,version:a,pinCount:0
-- chunk.b = chunk:b,block:7,len:2,liveMax:d80,livePages:e,map:a,max:16b0,pages:11,root:2c000041192,time:10d8ad3a,version:b,pinCount:0
-- chunk.c = chunk:c,block:2,len:1,liveMax:30,livePages:1,map:a,max:930,next:5,pages:3,root:300000149d2,time:10d8b598,unusedAtVersion:c,version:c,pinCount:0
-- map.1 = name:openTransactions
-- map.13 = name:undoLog.1,createVersion:32
-- map.14 = name:undoLog,createVersion:37
-- map.3 = name:table.0
-- map.4 = name:lobMap
-- map.5 = name:lobRef
-- map.6 = name:lobData
-- map.8 = name:index.0,createVersion:1
-- map.a = name:table.3,createVersion:7
-- name.index.0 = 8
-- name.lobData = 6
-- name.lobMap = 4
-- name.lobRef = 5
-- name.openTransactions = 1
-- name.table.0 = 3
-- name.table.3 = a
-- name.undoLog = 14
-- name.undoLog.1 = 13
-- root.3 = dc000002f56
-- root.8 = 30000013f82
-- root.a = 2c0000149cf
-- Tables
CREATE TABLE O_0(C0 VARCHAR, C1 VARCHAR, C2 VARCHAR, C3 VARCHAR);
INSERT INTO O_0 VALUES(1, 0, 6, 'SET CREATE_BUILD 197');
INSERT INTO O_0 VALUES(2, 0, 2, 'CREATE USER IF NOT EXISTS SA SALT ''1b19b8e2221c64f8'' HASH ''d40b3ed152c6365c1ccfd83852dc080de5e398bd1967b6cbf8e2b28d8141163c'' ADMIN');
INSERT INTO O_0 VALUES(3, 0, 0, STRINGDECODE('CREATE CACHED TABLE PUBLIC.TRADE(\n    TRADE_ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_42D0C7DF_5276_4712_95B7_1530CCED2F7B) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_42D0C7DF_5276_4712_95B7_1530CCED2F7B,\n    CLASS_CODE VARCHAR(30),\n    SEC_CODE VARCHAR(250),\n    DIRECTION VARCHAR(10),\n    QUANTITY INTEGER,\n    PRICE NUMBER,\n    CURRENCY VARCHAR(20),\n    AMOUNT NUMBER,\n    TRADE_DATETIME TIMESTAMP,\n    TRANS_ID VARCHAR2(30),\n    QUIK_TRADE_ID VARCHAR2(30),\n    ORDER_NUM VARCHAR2(30),\n    POSITION INTEGER,\n    BUY_AMOUNT NUMBER,\n    SELL_AMOUNT NUMBER,\n    REALIZED_PNL NUMBER,\n    FEE_AMOUNT NUMBER\n)'));
INSERT INTO O_0 VALUES(4, 0, 3, 'CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_42D0C7DF_5276_4712_95B7_1530CCED2F7B START WITH 53 BELONGS_TO_TABLE');
INSERT INTO O_0 VALUES(5, 0, 1, 'CREATE PRIMARY KEY PUBLIC.PRIMARY_KEY_4 ON PUBLIC.TRADE(TRADE_ID)');
INSERT INTO O_0 VALUES(6, 0, 5, 'ALTER TABLE PUBLIC.TRADE ADD CONSTRAINT PUBLIC.CONSTRAINT_4 PRIMARY KEY(TRADE_ID) INDEX PUBLIC.PRIMARY_KEY_4');
CREATE TABLE O_3(C0 VARCHAR, C1 VARCHAR, C2 VARCHAR, C3 VARCHAR, C4 VARCHAR, C5 VARCHAR, C6 VARCHAR, C7 VARCHAR, C8 VARCHAR, C9 VARCHAR, C10 VARCHAR, C11 VARCHAR, C12 VARCHAR, C13 VARCHAR, C14 VARCHAR, C15 VARCHAR, C16 VARCHAR);
INSERT INTO O_3 VALUES(1, 'EQOB', 'RU000A0JW5C7', 'B', 14, 115.12, 'SUR', 16116.8, TIMESTAMP '2020-04-13 19:11:42.519522', '1918638766', '3159341425', '20015094544', 14, 16116.8, 0, 0, 8.05840);
INSERT INTO O_3 VALUES(2, 'EQOB', 'RU000A0ZYM21', 'S', 6, 95.2, 'SUR', 5712, TIMESTAMP '2020-04-13 19:11:42.529731', '1918607564', '3159344561', '20015072177', 0, 0, 0, 0, 2.8560);
INSERT INTO O_3 VALUES(3, 'EQOB', 'RU000A0ZYM21', 'S', 10, 95.2, 'SUR', 9520, TIMESTAMP '2020-04-13 19:11:42.53556', '1918733892', '3159351387', '20015165133', 0, 0, 0, 0, 4.7600);
INSERT INTO O_3 VALUES(4, 'EQOB', 'RU000A0ZYM21', 'S', 3, 95.2, 'SUR', 2856, TIMESTAMP '2020-04-13 19:11:42.540666', '1918733892', '3159360279', '20015165133', 0, 0, 0, 0, 1.4280);
INSERT INTO O_3 VALUES(5, 'EQOB', 'RU000A0ZYM21', 'S', 1, 95.2, 'SUR', 952, TIMESTAMP '2020-04-13 19:11:42.545479', '1918733892', '3159361898', '20015165133', 0, 0, 0, 0, 0.4760);
INSERT INTO O_3 VALUES(6, 'EQOB', 'RU000A0ZYM21', 'S', 10, 95.2, 'SUR', 9520, TIMESTAMP '2020-04-13 19:11:42.55184', '1918733892', '3159364686', '20015165133', 0, 0, 0, 0, 4.7600);
INSERT INTO O_3 VALUES(7, 'EQOB', 'RU000A1014B9', 'S', 6, 93.34, 'SUR', 5600.4, TIMESTAMP '2020-04-13 19:11:42.557804', '1918812777', '3159369470', '20015211580', 0, 0, 0, 0, 2.80020);
INSERT INTO O_3 VALUES(8, 'TQCB', 'RU000A0ZYT40', 'B', 30, 100.61, 'SUR', 30183, TIMESTAMP '2020-04-13 19:11:42.56183', '1919480623', '3159398804', '20015599023', 30, 30183, 0, 0, 15.0915);
INSERT INTO O_3 VALUES(9, 'EQOB', 'RU000A0JXY44', 'S', 6, 104.99, 'SUR', 6299.4, TIMESTAMP '2020-04-13 19:11:42.568142', '1919274914', '3159425104', '20015496343', 0, 0, 0, 0, 3.14970);
INSERT INTO O_3 VALUES(10, 'EQOB', 'RU000A0JXY44', 'S', 1, 104.99, 'SUR', 1049.9, TIMESTAMP '2020-04-13 19:11:42.572835', '1919274914', '3159431879', '20015496343', 0, 0, 0, 0, 0.52495);
INSERT INTO O_3 VALUES(11, 'EQOB', 'RU000A0JXY44', 'S', 5, 104.99, 'SUR', 5249.5, TIMESTAMP '2020-04-13 19:11:42.57937', '1919274914', '3159439954', '20015496343', 0, 0, 0, 0, 2.62475);
INSERT INTO O_3 VALUES(12, 'EQOB', 'RU000A0JW5C7', 'B', 16, 115.74, 'SUR', 18518.4, TIMESTAMP '2020-04-13 19:11:42.584117', '1920133035', '3159441871', '20015953169', 30, 34635.2, 0, 0, 9.25920);
INSERT INTO O_3 VALUES(13, 'EQOB', 'RU000A0JXY44', 'S', 10, 104.99, 'SUR', 10499, TIMESTAMP '2020-04-13 19:11:42.588236', '1919274914', '3159444989', '20015496343', 0, 0, 0, 0, 5.2495);
INSERT INTO O_3 VALUES(14, 'EQOB', 'RU000A0JXY44', 'S', 8, 104.99, 'SUR', 8399.2, TIMESTAMP '2020-04-13 19:11:42.595023', '1919274914', '3159446183', '20015496343', 0, 0, 0, 0, 4.19960);
INSERT INTO O_3 VALUES(15, 'EQOB', 'RU000A0ZYM21', 'B', 30, 94.9, 'SUR', 28470, TIMESTAMP '2020-04-13 19:11:42.600316', '1921420476', '3159685832', '20016764291', 30, 28470, 0, 0, 14.2350);
INSERT INTO O_3 VALUES(16, 'TQCB', 'RU000A100V79', 'B', 60, 99.01, 'SUR', 59406, TIMESTAMP '2020-04-13 19:11:42.605647', '1918341015', '3159712471', '20014815032', 60, 59406, 0, 0, 29.7030);
INSERT INTO O_3 VALUES(17, 'TQCB', 'RU000A0ZYT40', 'S', 3, 100.91, 'SUR', 3027.3, TIMESTAMP '2020-04-13 19:11:42.611009', '1919784438', '3159807722', '20015729552', 27, 30183, 3027.3, 0, 1.51365);
INSERT INTO O_3 VALUES(18, 'TQCB', 'RU000A0ZYT40', 'S', 1, 100.91, 'SUR', 1009.1, TIMESTAMP '2020-04-13 19:11:42.617377', '1919784438', '3159848881', '20015729552', 26, 30183, 4036.4, 0, 0.50455);
INSERT INTO O_3 VALUES(19, 'TQCB', 'RU000A0ZYT40', 'S', 26, 100.91, 'SUR', 26236.6, TIMESTAMP '2020-04-13 19:11:42.622751', '1919784438', '3159920426', '20015729552', 0, 30183, 30273.0, 90.0, 13.11830);
INSERT INTO O_3 VALUES(20, 'EQOB', 'RU000A0JXN21', 'B', 2, 101.81, 'SUR', 2036.2, TIMESTAMP '2020-04-13 19:11:42.6276', '1930205559', '3159944214', '20020864413', 2, 2036.2, 0, 0, 1.01810);
INSERT INTO O_3 VALUES(21, 'EQOB', 'RU000A0JXY44', 'B', 30, 104.6, 'SUR', 31380, TIMESTAMP '2020-04-13 19:11:42.630914', '1927082097', '3159949480', '20019709627', 30, 31380, 0, 0, 15.6900);
INSERT INTO O_3 VALUES(22, 'EQOB', 'RU000A0ZZFH2', 'S', 20, 101.85, 'SUR', 20370, TIMESTAMP '2020-04-13 19:11:42.636889', '1923544993', '3159973145', '20018252096', 0, 0, 0, 0, 10.1850);
INSERT INTO O_3 VALUES(23, 'EQOB', 'RU000A101D13', 'B', 30, 97.4, 'SUR', 29220, TIMESTAMP '2020-04-13 19:11:42.64046', '1933348664', '3160037655', '20021655949', 30, 29220, 0, 0, 14.6100);
INSERT INTO O_3 VALUES(24, 'EQOB', 'RU000A101D13', 'S', 2, 97.78, 'SUR', 1955.6, TIMESTAMP '2020-04-13 19:11:42.644433', '1936711513', '3160070101', '20022373134', 28, 29220, 1955.6, 0, 0.97780);
INSERT INTO O_3 VALUES(25, 'EQOB', 'RU000A101D13', 'S', 12, 97.77, 'SUR', 11732.4, TIMESTAMP '2020-04-13 19:11:42.648584', '1940175555', '3160103099', '20023125282', 16, 29220, 13688.0, 0, 5.86620);
INSERT INTO O_3 VALUES(26, 'EQOB', 'RU000A101D13', 'S', 10, 97.77, 'SUR', 9777, TIMESTAMP '2020-04-13 19:11:42.653017', '1940175555', '3160103247', '20023125282', 6, 29220, 23465.0, 0, 4.8885);
INSERT INTO O_3 VALUES(27, 'EQOB', 'RU000A101D13', 'S', 1, 97.77, 'SUR', 977.7, TIMESTAMP '2020-04-13 19:11:42.65765', '1940175555', '3160165686', '20023125282', 5, 29220, 24442.7, 0, 0.48885);
INSERT INTO O_3 VALUES(28, 'EQOB', 'RU000A101D13', 'S', 5, 97.77, 'SUR', 4888.5, TIMESTAMP '2020-04-13 19:11:42.661172', '1940175555', '3160188979', '20023125282', 0, 29220, 29331.2, 111.2, 2.44425);
INSERT INTO O_3 VALUES(29, 'EQOB', 'RU000A0JXN21', 'B', 18, 101.81, 'SUR', 18325.8, TIMESTAMP '2020-04-13 19:11:42.666349', '1930205559', '3160240946', '20020864413', 20, 20362.0, 0, 0, 9.16290);
INSERT INTO O_3 VALUES(30, 'EQOB', 'RU000A0JXN21', 'S', 15, 102.06, 'SUR', 15309, TIMESTAMP '2020-04-13 19:11:42.671469', '1945872350', '3160348375', '20024834296', 5, 20362.0, 15309, 0, 7.6545);
INSERT INTO O_3 VALUES(31, 'EQOB', 'RU000A0ZYM21', 'S', 5, 96.69, 'SUR', 4834.5, TIMESTAMP '2020-04-14 19:07:00.87986', '2004691553', '3160388962', '20026164896', 25, 28470, 4834.5, 0, 2.41725);
INSERT INTO O_3 VALUES(32, 'EQOB', 'RU000A0JXY44', 'S', 2, 104.99, 'SUR', 2099.8, TIMESTAMP '2020-04-14 19:07:00.890741', '2004689254', '3160401738', '20026158506', 28, 31380, 2099.8, 0, 1.04990);
INSERT INTO O_3 VALUES(33, 'EQOB', 'RU000A101H43', 'B', 30, 96.5, 'SUR', 28950, TIMESTAMP '2020-04-14 19:07:00.896209', '2004743863', '3160431700', '20026266877', 30, 28950, 0, 0, 14.4750);
INSERT INTO O_3 VALUES(34, 'EQOB', 'RU000A0JXY44', 'S', 1, 104.99, 'SUR', 1049.9, TIMESTAMP '2020-04-14 19:07:00.900422', '2004689254', '3160439730', '20026158506', 27, 31380, 3149.7, 0, 0.52495);
INSERT INTO O_3 VALUES(35, 'EQOB', 'RU000A1008J4', 'B', 50, 104.13, 'SUR', 52065, TIMESTAMP '2020-04-14 19:07:00.907012', '2005301218', '3160455849', '20026899466', 50, 52065, 0, 0, 26.0325);
INSERT INTO O_3 VALUES(36, 'EQOB', 'RU000A0JXY44', 'S', 1, 104.89, 'SUR', 1048.9, TIMESTAMP '2020-04-14 19:07:00.911867', '2005436019', '3160480042', '20027011868', 26, 31380, 4198.6, 0, 0.52445);
INSERT INTO O_3 VALUES(37, 'EQOB', 'RU000A0JXY44', 'S', 2, 104.89, 'SUR', 2097.8, TIMESTAMP '2020-04-14 19:07:00.915949', '2005436019', '3160491144', '20027011868', 24, 31380, 6296.4, 0, 1.04890);
INSERT INTO O_3 VALUES(38, 'EQOB', 'RU000A101H43', 'S', 30, 97.09, 'SUR', 29127, TIMESTAMP '2020-04-14 19:07:00.921113', '2006135389', '3160514825', '20027452121', 0, 28950, 29127, 177, 14.5635);
INSERT INTO O_3 VALUES(39, 'TQCB', 'RU000A1008B1', 'S', 4, 101.59, 'SUR', 4063.6, TIMESTAMP '2020-04-14 19:07:00.926648', '2005956817', '3160547136', '20027353877', 0, 0, 0, 0, 2.03180);
INSERT INTO O_3 VALUES(40, 'TQCB', 'RU000A1008B1', 'S', 26, 101.59, 'SUR', 26413.4, TIMESTAMP '2020-04-14 19:07:00.931271', '2005956817', '3160568699', '20027353877', 0, 0, 0, 0, 13.20670);
INSERT INTO O_3 VALUES(41, 'EQOB', 'RU000A0JXQ93', 'S', 3, 103.3, 'SUR', 2355.24, TIMESTAMP '2020-04-14 19:07:00.937058', '2005101027', '3160582139', '20026709069', 0, 0, 0, 0, 1.177620);
INSERT INTO O_3 VALUES(42, 'EQOB', 'RU000A0JXY44', 'S', 24, 104.88, 'SUR', 25171.2, TIMESTAMP '2020-04-14 19:07:00.940383', '2006178488', '3160591412', '20027471817', 0, 31380, 31467.6, 87.6, 12.58560);
INSERT INTO O_3 VALUES(43, 'EQOB', 'RU000A0JXY44', 'B', 30, 104.52, 'SUR', 31356, TIMESTAMP '2020-04-14 19:07:00.946213', '2007939938', '3160594459', '20028259490', 30, 62736, 31467.6, 0, 15.6780);
INSERT INTO O_3 VALUES(44, 'TQCB', 'RU000A100V79', 'S', 12, 99.42, 'SUR', 11930.4, TIMESTAMP '2020-04-14 19:07:00.9517', '2007562007', '3160603994', '20028121891', 48, 59406, 11930.4, 0, 5.96520);
INSERT INTO O_3 VALUES(45, 'TQCB', 'RU000A100V79', 'S', 48, 99.4, 'SUR', 47712, TIMESTAMP '2020-04-14 19:07:00.957201', '2008243196', '3160701065', '20028362336', 0, 59406, 59642.4, 236.4, 23.8560);
INSERT INTO O_3 VALUES(46, 'EQOB', 'RU000A0JXN21', 'S', 3, 102.06, 'SUR', 3061.8, TIMESTAMP '2020-04-14 19:07:00.963387', '2006868852', '3160916987', '20027791008', 2, 20362.0, 18370.8, 0, 1.53090);
INSERT INTO O_3 VALUES(47, 'EQOB', 'RU000A0JXN21', 'S', 2, 102.06, 'SUR', 2041.2, TIMESTAMP '2020-04-14 19:07:00.967768', '2006868852', '3160919359', '20027791008', 0, 20362.0, 20412.0, 50.0, 1.02060);
INSERT INTO O_3 VALUES(48, 'EQOB', 'RU000A1008J4', 'S', 1, 104.43, 'SUR', 1044.3, TIMESTAMP '2020-04-14 19:07:00.972288', '2005766622', '3161209920', '20027234144', 49, 52065, 1044.3, 0, 0.52215);
INSERT INTO O_3 VALUES(49, 'EQOB', 'RU000A1008J4', 'S', 1, 104.43, 'SUR', 1044.3, TIMESTAMP '2020-04-14 19:07:00.978206', '2005766622', '3161263997', '20027234144', 48, 52065, 2088.6, 0, 0.52215);
INSERT INTO O_3 VALUES(50, 'EQOB', 'RU000A1008J4', 'S', 48, 104.43, 'SUR', 50126.4, TIMESTAMP '2020-04-14 19:07:00.978206', '2005766622', '3161315371', '20027234144', 0, 52065, 52215.0, 150.0, 25.06320);
INSERT INTO O_3 VALUES(51, 'EQOB', 'RU000A101D13', 'B', 30, 97.4, 'SUR', 29220, TIMESTAMP '2020-04-14 19:07:00.985445', '2032974937', '3161511066', '20036160504', 30, 58440, 29331.2, 0, 14.6100);
INSERT INTO O_3 VALUES(52, 'EQOB', 'RU000A101D13', 'S', 1, 97.98, 'SUR', 979.8, TIMESTAMP '2020-04-14 19:07:00.990294', '2033290516', '3161563194', '20036296159', 29, 58440, 30311.0, 0, 0.48990);
---- Schema ----
SET CREATE_BUILD 197;
CREATE USER IF NOT EXISTS SA SALT '1b19b8e2221c64f8' HASH 'd40b3ed152c6365c1ccfd83852dc080de5e398bd1967b6cbf8e2b28d8141163c' ADMIN;
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_42D0C7DF_5276_4712_95B7_1530CCED2F7B START WITH 53 BELONGS_TO_TABLE;
CREATE CACHED TABLE PUBLIC.TRADE(
    TRADE_ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_42D0C7DF_5276_4712_95B7_1530CCED2F7B) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_42D0C7DF_5276_4712_95B7_1530CCED2F7B,
    CLASS_CODE VARCHAR(30),
    SEC_CODE VARCHAR(250),
    DIRECTION VARCHAR(10),
    QUANTITY INTEGER,
    PRICE NUMBER,
    CURRENCY VARCHAR(20),
    AMOUNT NUMBER,
    TRADE_DATETIME TIMESTAMP,
    TRANS_ID VARCHAR2(30),
    QUIK_TRADE_ID VARCHAR2(30),
    ORDER_NUM VARCHAR2(30),
    POSITION INTEGER,
    BUY_AMOUNT NUMBER,
    SELL_AMOUNT NUMBER,
    REALIZED_PNL NUMBER,
    FEE_AMOUNT NUMBER
);
INSERT INTO PUBLIC.TRADE SELECT * FROM O_3;
DROP TABLE O_0;
DROP TABLE O_3;
DROP ALIAS READ_BLOB;
DROP ALIAS READ_CLOB;
DROP ALIAS READ_BLOB_DB;
DROP ALIAS READ_CLOB_DB;
CREATE PRIMARY KEY PUBLIC.PRIMARY_KEY_4 ON PUBLIC.TRADE(TRADE_ID);
ALTER TABLE PUBLIC.TRADE ADD CONSTRAINT PUBLIC.CONSTRAINT_4 PRIMARY KEY(TRADE_ID) INDEX PUBLIC.PRIMARY_KEY_4;
DROP ALIAS READ_BLOB_MAP;
DROP ALIAS READ_CLOB_MAP;
DROP TABLE IF EXISTS INFORMATION_SCHEMA.LOB_BLOCKS;
